<!DOCTYPE html>  
<html>  
<head>  
    <title>财经数据汇总</title>  
    <meta charset='UTF-8'>  
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script> 
    <style>
        body{
            background: black;
        }
        .ul{
            margin:0 aoto;
            background: #fff2e3;
        }
        .li_de_pic{
            float:left;
            margin:15px 25px;
        }
    </style>
</head> 
<body>       
                <!--道琼斯Start-->  
                 
                    <div class='ul bgGray'>  
                        <div class='li_de_pic'>  
                            <img class='smallPic DQSpicTime' />  
                        </div>  
                        <div class='li_de_pic'>  
                            <img class='smallPic DQSpicDay' />  
                        </div>  
                        <div class='clear'></div>  

                        <div class='li_t1_1'>道琼斯：</div>  
                        <div class='li_d1_1 DQSnowN'>--.--</div>  
                        <div class='li_d1_1 DQSnowV'>--.--</div>  
                        <div class='li_d1_1 DQSnowP'>--.--%</div>  
                        <div class='clear'></div>  
                         
                        <div class='li_de_t DQSnowO'>--.--</div>  
                        <div class='li_de_t DQSnowL'>--.--</div>  
                        <div class='li_de_t DQSnowH'>--.--</div>  
                        <div class='li_de_t DQSnowYC'>--.--</div>  
                        <div class='clear'></div>      
                    </div>  
                 
                <!--道琼斯End--> 

<script>
function getData(){   
        loadScript('AjaxDataDQS',AjaxDataDQSUrl,showAjaxDataDQS);  
} 

$(function(){  
        getData();  
        var refreshTime = 10000;  
        setInterval(getData,refreshTime);
}); 

function loadScript(id,url,callBack){  
    $.getScript(url+"&dt="+new Date().getTime(),callBack);  
} 

var AjaxDataDQSUrl = 'http://hq2gjgp.eastmoney.com/EM_Quote2010NumericApplication/Index.aspx?jsName=DataDQS&reference=rtj&type=f&id=INDU7'; 

function showAjaxDataDQS(){  
    if(!DataDQS){return;}  
    var refreshTime = 10000;  
    /*道琼斯Start*/  
    var DQSData = DataDQS.quotation[0].split(",");  
    var DQSOpen = DQSData[4];  
    var DQSLow = DQSData[7];  
    var DQSHigh = DQSData[6];  
    var DQSNow = DQSData[5];  
    var DQSYClose = DQSData[3];  
    var DQSClass = DQSNow>DQSYClose?"colorRed":(DQSNow<DQSYClose?"colorGreen":"colorGray");  
    var DQSOClass = DQSOpen>DQSYClose?"colorRed":(DQSOpen<DQSYClose?"colorGreen":"colorGray");  
    var DQSLClass = DQSLow>DQSYClose?"colorRed":(DQSLow<DQSYClose?"colorGreen":"colorGray");  
    var DQSHClass = DQSHigh>DQSYClose?"colorRed":(DQSHigh<DQSYClose?"colorGreen":"colorGray");  
    $('.DQSnowO').html("开盘： <font class='bold "+DQSOClass+"'>"+DQSOpen+"</font>");  
    $('.DQSnowL').html("最低： <font class='bold "+DQSLClass+"'>"+DQSLow+"</font>");  
    $('.DQSnowH').html("最高： <font class='bold "+DQSHClass+"'>"+DQSHigh+"</font>");  
    $('.DQSnowYC').html("昨收： <font class='bold colorGray'>"+DQSYClose+"</font>");  
    $('.DQSnowN').html("现价： <font class='bold "+DQSClass+"'>"+DQSNow+"</font>");  
    $('.DQSnowV').html(  
        "涨跌额： <font class='bold "+DQSClass+"'>"  
        +Math.round((DQSNow-DQSYClose)*100)/100  
        +"</font>"  
    );  
    $('.DQSnowP').html(  
        "涨跌幅： <font class='bold "+DQSClass+"'>"  
        +Math.round(((DQSNow-DQSYClose)/DQSYClose*100)*100)/100  
        + " %"+"</font>"  
    );  
    /*道琼斯End*/  
    //setTimeout(loadScript('AjaxDataDQS',AjaxDataDQSUrl,showAjaxDataDQS),refreshTime);  
  
    // img data  
    /*道琼斯*/  
    $('.DQSpicTime').attr("src","http://hqgjgppic.eastmoney.com/EM_Quote2010PictureProducter/Picture/INDU7Rs.png?dt="+new Date().getTime());  
    $('.DQSpicDay').attr("src","http://hqgjgppic.eastmoney.com/EM_Quote2010PictureProducter/Index.aspx?imagetype=KS&id=INDU7&UnitWidth=&Reference=xml&dt="+new Date().getTime());         
} 
</script>
</body>
</html>